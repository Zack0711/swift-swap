# SwiftSwap v1.1.0 Feature Upgrade Specification

## Overview

This specification outlines the feature upgrades for SwiftSwap v1.1.0, building upon the foundation established in v1.0.0. The primary focus is enhancing user experience through customizable syntax transformation rules and providing detailed conversion statistics.

## Version Information

- **Previous Version**: v1.0.0 (Base implementation)
- **Target Version**: v1.1.0
- **Release Type**: Minor release with new features
- **Backward Compatibility**: Full compatibility maintained

## New Features

### 1. Syntax Rule Selection Menu

#### Description
A dynamic header menu that allows users to select from predefined syntax transformation rule sets optimized for different use cases and frameworks.

#### User Stories
- As a developer, I want to choose between different transformation rule sets so I can convert HTML for specific frameworks
- As a user, I want to see which rule set is currently active so I understand what transformations will be applied
- As a developer, I want to switch between rule sets without losing my input content

#### Feature Requirements

##### 1.1 Rule Set Options
- **React/JSX** (Default): Current v1.0.0 transformations
- **Vue.js**: Vue-specific attribute transformations
- **Angular**: Angular template syntax conversions
- **Web Components**: Standard web component attribute handling
- **Custom**: User-defined transformation rules (future enhancement)

##### 1.2 Menu Interface
- **Location**: Header area, positioned to the right of the title
- **Style**: Dropdown menu with clean, modern design
- **Responsiveness**: Collapses to icon-based menu on mobile devices
- **Visual Feedback**: Active rule set highlighted with distinct styling

##### 1.3 Transformation Rule Sets

###### React/JSX Rules (Default - v1.0.0)
```typescript
const reactRules = {
  'class': 'className',
  'for': 'htmlFor',
  '<!-- comment -->': '{/* comment */}',
  '<br>': '<br />',
  '<hr>': '<hr />',
  'kebab-case-attrs': 'camelCase'
};
```

###### Vue.js Rules
```typescript
const vueRules = {
  'class': ':class',
  'v-on:click': '@click',
  'v-bind:': ':',
  '<!-- comment -->': '<!-- comment -->',
  'style': ':style'
};
```

###### Angular Rules
```typescript
const angularRules = {
  'class': '[class]',
  'click': '(click)',
  'value': '[value]',
  '<!-- comment -->': '<!-- comment -->',
  'ngFor': '*ngFor',
  'ngIf': '*ngIf'
};
```

###### Web Components Rules
```typescript
const webComponentRules = {
  'onclick': '@click',
  'class': 'class',
  'data-*': 'data-*',
  '<!-- comment -->': '<!-- comment -->'
};
```

#### Implementation Details

##### Component Structure
```
src/components/
├── RuleSelector.tsx          # New rule selection dropdown
├── RuleSetManager.tsx        # New rule set management logic
└── SyntaxConverter.tsx       # Updated with rule selection
```

##### State Management
- Add rule selection state to main converter component
- Implement rule set switching without content loss
- Persist selected rule set in localStorage

##### UI/UX Considerations
- Smooth transitions between rule sets
- Visual confirmation of rule set changes
- Tooltip explanations for each rule set
- Keyboard navigation support

### 2. Modification Statistics Display

#### Description
A real-time statistics panel that shows detailed information about the conversion process, including the number of lines modified, types of changes made, and conversion summary.

#### User Stories
- As a user, I want to see how many changes were made so I can understand the conversion impact
- As a developer, I want detailed statistics about transformation types so I can verify the conversion accuracy
- As a user, I want to see the statistics update in real-time as I modify the input

#### Feature Requirements

##### 2.1 Statistics Panel
- **Location**: Below the conversion button area on desktop, bottom of active tab on mobile
- **Style**: Clean, card-based design with icons and color coding
- **Responsiveness**: Adaptive layout for different screen sizes
- **Animation**: Smooth updates with transition effects

##### 2.2 Tracked Metrics

###### Basic Statistics
- **Total Lines**: Input vs output line count
- **Modified Lines**: Number of lines that were changed
- **Unchanged Lines**: Lines that remained identical
- **Lines Added**: New lines created during conversion
- **Lines Removed**: Lines removed during conversion

###### Transformation Statistics
- **Attribute Changes**: Count of attribute transformations
- **Tag Modifications**: Self-closing tag conversions
- **Comment Conversions**: HTML to framework comment changes
- **Case Conversions**: kebab-case to camelCase transformations

###### Advanced Metrics
- **Conversion Accuracy**: Percentage of successful transformations
- **Processing Time**: Time taken for the conversion
- **Rule Set Applied**: Currently active transformation rule set
- **Character Count**: Before/after character statistics

##### 2.3 Statistics Display Format

```typescript
interface ConversionStats {
  totalLines: number;
  modifiedLines: number;
  unchangedLines: number;
  linesAdded: number;
  linesRemoved: number;
  attributeChanges: number;
  tagModifications: number;
  commentConversions: number;
  caseConversions: number;
  conversionAccuracy: number;
  processingTime: number;
  ruleSetApplied: string;
  characterCount: {
    before: number;
    after: number;
  };
}
```

##### 2.4 Visual Design
- **Icons**: Meaningful icons for each statistic type
- **Color Coding**: Green for additions, blue for modifications, gray for unchanged
- **Progress Bars**: Visual representation of modification percentages
- **Tooltips**: Detailed explanations for each metric

#### Implementation Details

##### Component Structure
```
src/components/
├── StatisticsPanel.tsx       # New statistics display component
├── StatisticsCard.tsx        # Individual statistic card component
└── utils/
    └── statisticsCalculator.ts # Statistics calculation logic
```

##### Calculation Logic
- Line-by-line comparison algorithm
- Transformation type detection
- Real-time metric updates
- Performance optimization for large inputs

## Technical Requirements

### 3. Enhanced Architecture

#### 3.1 State Management Updates
```typescript
interface AppState {
  inputValue: string;
  outputValue: string;
  selectedRuleSet: RuleSetType;
  conversionStats: ConversionStats;
  loading: boolean;
  error: string | null;
}
```

#### 3.2 New Utility Functions
- `calculateStatistics(input: string, output: string): ConversionStats`
- `applyRuleSet(input: string, ruleSet: RuleSetType): TransformResult`
- `compareLines(original: string[], converted: string[]): LineComparison[]`

#### 3.3 Performance Considerations
- Debounced statistics calculation for large inputs
- Memoized rule set transformations
- Efficient line comparison algorithms
- Lazy loading of complex statistics

### 4. UI/UX Enhancements

#### 4.1 Header Updates
```
[SwiftSwap Logo] [Title] [Rule Selector ▼] [Settings ⚙️]
```

#### 4.2 Statistics Panel Layout
```
┌─────────────────────────────────────────┐
│ 📊 Conversion Statistics                │
├─────────────────────────────────────────┤
│ Modified: 12 lines  Unchanged: 8 lines │
│ Added: 2 lines      Removed: 0 lines   │
├─────────────────────────────────────────┤
│ Transformations:                        │
│ • Attributes: 15    • Tags: 8          │
│ • Comments: 3       • Case: 12         │
├─────────────────────────────────────────┤
│ Rule Set: React/JSX  Time: 0.23s       │
└─────────────────────────────────────────┘
```

#### 4.3 Mobile Adaptations
- Collapsible statistics panel
- Tabbed interface for detailed metrics
- Touch-optimized rule selector
- Swipe gestures for rule switching

### 5. Configuration & Settings

#### 5.1 New Configuration Options
```typescript
interface AppConfig {
  defaultRuleSet: RuleSetType;
  showStatistics: boolean;
  autoCalculateStats: boolean;
  statisticsUpdateDelay: number;
  maxInputSize: number;
}
```

#### 5.2 User Preferences
- Rule set preference persistence
- Statistics panel show/hide toggle
- Real-time vs manual statistics updates
